/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
'use strict';import*as protobuf from'protobufjs/light';import SessionsSocketDescriptor from'./sessions/descriptors/sessiondescriptor';import OperationMetadataDescriptor from'./collaborativeeditingservice/descriptors/operationmetadatadescriptor';import KeyValueDescriptor from'./descriptors/keyvaluedescriptor';const descriptors=[KeyValueDescriptor,SessionsSocketDescriptor,OperationMetadataDescriptor],protobufFactory=protobuf['Root']['fromJSON'](function(descriptors){return{'nested':descriptors['reduce']((result,Descriptor)=>(result[Descriptor['DESCRIPTOR_NAME']]=Descriptor['DESCRIPTOR'],result),{})};}(descriptors));export default class MessagesCompressor{static['decode'](_0x31d559,_0x101a5f){const data=_getType(_0x101a5f)['decode']('undefined'==typeof window?_0x31d559:new Uint8Array(_0x31d559));return _0x101a5f['fromJSON'](data);}static['encode'](_0x5bfdc4){const protobufMessage=_getType(_0x5bfdc4['constructor']),data=_0x5bfdc4['toJSON'](),_0x390d61=protobufMessage['verify'](data);if(_0x390d61)throw Error(_0x390d61);return protobufMessage['encode'](protobufMessage['create'](data))['finish']();}}function _getType(_0x3e2091){return function(_0x5d33ed){protobufFactory['lookup'](_0x5d33ed['DESCRIPTOR_NAME'])||protobufFactory['addJSON']({[_0x5d33ed['DESCRIPTOR_NAME']]:_0x5d33ed['DESCRIPTOR']});}(_0x3e2091),protobufFactory['lookupType'](_0x3e2091['DESCRIPTOR_NAME']);}