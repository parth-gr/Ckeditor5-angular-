/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0xfdcf96 from'@ckeditor/ckeditor5-utils/src/mix';import EmitterMixin from'@ckeditor/ckeditor5-utils/src/emittermixin';import _0x1c5deb from'./../websocketgateway/messages/channelmessage';import _0x41dacf from'./../messagescompressor';class Channel{constructor(_0x5335c7,wsGateway,socket){this['_channelName']=_0x5335c7,this['_socket']=socket,socket['on'](this['_channelName'],_0x166edd=>{const _0x249c9b=_0x41dacf['decode'](_0x166edd,_0x1c5deb);this['fire'](this['getEventName'](_0x249c9b['type'],!0x0),_0x249c9b['data'],_0x249c9b['socketId']),_0x249c9b['socketId']!==wsGateway['sessionId']&&this['fire'](this['getEventName'](_0x249c9b['type']),_0x249c9b['data'],_0x249c9b['socketId']);});}['remove'](){this['_socket']['off'](this['_channelName']);}['getEventName'](eventName,_0x33e335=!0x1){let fullEventName='';return _0x33e335&&(fullEventName+='all:'),fullEventName+='event',eventName&&(fullEventName+=':'+eventName),fullEventName;}}_0xfdcf96(Channel,EmitterMixin);export default Channel;