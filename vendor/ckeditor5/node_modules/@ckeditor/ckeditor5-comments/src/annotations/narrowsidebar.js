/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1058=['isVisible','detach','high','set:container','isAnimationDisabled','detachFromDom','init','includes','focus','change:selectedViews','add','attach','length','southArrowNorthWest','southArrowNorthEast','content','locale','northArrowSouthWest','items','element','narrowsidebar-attach-already-attached:\x20Cannot\x20attach\x20narrow\x20sidebar\x20twice.','execute','destroy','NarrowSidebar','off','mousedown','esc','contains','get','ck-sidebar--narrow','southArrowNorth','attachToDom','addView','first','Annotations','narrowsidebar-detach-not-attached:\x20Cannot\x20detach\x20not\x20attached\x20sidebar.','customView','bind','pin','northArrowSouthEast','isDirty','isAttached','unpin','stopListening','type','clear','refresh','bodyCollection','values','Sidebar','delete','Esc','keyCode','balloonPanelView','change:container','number','narrowSidebar','requires','_detachFromContainer','register','target','listenTo','from','getSidebarItemView','change:activeView','_attachToContainer','context','activeView','using','has','_annotationViewToNarrowView','view','remove','getAnnotationView','pluginName','annotationType','plugins'];(function(_0x454e8b,_0x449139){const _0x3b3540=function(_0x2836ec){while(--_0x2836ec){_0x454e8b['push'](_0x454e8b['shift']());}};_0x3b3540(++_0x449139);}(_0x1058,0x1ee));const _0x3102=function(_0x454e8b,_0x449139){_0x454e8b=_0x454e8b-0x0;let _0x3b3540=_0x1058[_0x454e8b];return _0x3b3540;};import _0x73ecf0 from'@ckeditor/ckeditor5-core/src/contextplugin';import _0x2e587b from'./annotations';import _0x3de737 from'./sidebar';import _0x20f1f0 from'./view/annotationcounterbuttonview';import _0x2cd7f5 from'@ckeditor/ckeditor5-ui/src/panel/balloon/balloonpanelview';import _0x30b469 from'@ckeditor/ckeditor5-ui/src/editorui/bodycollection';import _0x2523cc from'@ckeditor/ckeditor5-utils/src/ckeditorerror';import _0x4bd22b from'@ckeditor/ckeditor5-utils/src/dom/emittermixin';import{keyCodes as _0x42b375}from'@ckeditor/ckeditor5-utils/src/keyboard';import'../../theme/sidebar-narrow.css';export default class x extends _0x73ecf0{static get[_0x3102('0x19')](){return[_0x3de737,_0x2e587b];}static get[_0x3102('0x2a')](){return _0x3102('0x44');}constructor(_0x4e3322){super(_0x4e3322),this[_0x3102('0x9')]=!0x1,this['v']=new Set(),this['S']=Object['create'](_0x4bd22b),this[_0x3102('0x26')]=new Map();}[_0x3102('0x33')](){this[_0x3102('0x22')][_0x3102('0x2c')]['get']('Annotations')[_0x3102('0x1b')](_0x3102('0x18'),this),this[_0x3102('0xf')]=new _0x30b469(this[_0x3102('0x22')][_0x3102('0x3d')]),this['bodyCollection'][_0x3102('0x4c')](),this[_0x3102('0x15')]=new _0x2cd7f5(this[_0x3102('0x22')][_0x3102('0x3d')]),this[_0x3102('0xf')]['add'](this[_0x3102('0x15')]);}[_0x3102('0x38')](){const _0x1d1b23=this[_0x3102('0x22')][_0x3102('0x2c')][_0x3102('0x49')]('Sidebar'),_0x41146f=this[_0x3102('0x22')][_0x3102('0x2c')][_0x3102('0x49')](_0x3102('0x2')),_0x137cc8=this[_0x3102('0x15')];if(this[_0x3102('0x9')])throw new _0x2523cc(_0x3102('0x41'),this);this[_0x3102('0x9')]=!0x0,this[_0x3102('0x1d')](_0x1d1b23,_0x3102('0x30'),()=>{this[_0x3102('0x2e')](),this[_0x3102('0x1d')](_0x1d1b23,_0x3102('0x16'),_0x54005e=>{_0x54005e[_0x3102('0x45')](),this[_0x3102('0x38')]();});}),_0x1d1b23[_0x3102('0x21')]({'viewClass':_0x3102('0x4a'),'spaceBetweenItems':0x5}),_0x1d1b23[_0x3102('0x27')]['list']['bindTo'](_0x41146f['items'])[_0x3102('0x24')](_0x58b2e2=>{const _0x598615=new _0x20f1f0(this['context'][_0x3102('0x3d')]),_0x36a714=_0x1d1b23[_0x3102('0x0')](_0x58b2e2,_0x598615);return this[_0x3102('0x26')]['set'](_0x58b2e2,_0x598615),_0x598615[_0x3102('0x5')](_0x3102('0x8'),_0x3102('0x2b'),_0x3102('0x17'))['to'](_0x58b2e2,_0x3102('0x8'),_0x3102('0xc'),_0x3102('0x39')),_0x598615['on'](_0x3102('0x42'),()=>{this['v'][_0x3102('0xd')](),_0x137cc8[_0x3102('0x3c')][_0x3102('0x1')]!==_0x58b2e2?(this['_'](_0x58b2e2),_0x58b2e2['element'][_0x3102('0x35')](),_0x41146f[_0x3102('0x23')]=_0x58b2e2[_0x3102('0x4')]):this['B']();}),_0x36a714;}),this['listenTo'](_0x41146f[_0x3102('0x3f')],_0x3102('0x28'),(_0x1b17df,_0x594254)=>{this[_0x3102('0x26')][_0x3102('0x49')](_0x594254)[_0x3102('0x43')](),this[_0x3102('0x26')][_0x3102('0x12')](_0x594254);}),this[_0x3102('0x1d')](_0x41146f,_0x3102('0x20'),(_0xeb91fc,_0x49c697,_0x555686,_0x1315b9)=>{if(_0x1315b9){const _0x350d71=_0x41146f[_0x3102('0x29')](_0x1315b9);if(!_0x350d71)return;_0x1d1b23[_0x3102('0x1f')](_0x350d71)[_0x3102('0x31')]=!0x1;}if(_0x555686){const _0x21cb3f=_0x41146f['getAnnotationView'](_0x555686);_0x1d1b23[_0x3102('0x1f')](_0x21cb3f)[_0x3102('0x31')]=!0x0;}},{'priority':_0x3102('0x2f')}),this[_0x3102('0x1d')](_0x41146f,_0x3102('0x20'),(_0x11743a,_0x27b699,_0x232349)=>{const _0x639305=_0x41146f[_0x3102('0x29')](_0x232349),_0x297f4d=_0x1d1b23[_0x3102('0x1f')](_0x639305);_0x232349&&_0x297f4d?this['_'](_0x639305):this['B']();}),this[_0x3102('0x1d')](_0x41146f,_0x3102('0x36'),(_0x28da0a,_0x260d68,_0x453b47,_0x53c5ea)=>{for(const _0x6f5ad8 of _0x53c5ea)_0x453b47[_0x3102('0x34')](_0x6f5ad8)||this['v'][_0x3102('0x12')](_0x41146f[_0x3102('0x29')](_0x6f5ad8));}),this[_0x3102('0x1d')](_0x41146f,_0x3102('0xe'),()=>{_0x137cc8[_0x3102('0x2d')]&&this['D']();}),this['S'][_0x3102('0x1d')](document,'keydown',(_0x13a057,_0x1c0ac2)=>{_0x1c0ac2[_0x3102('0x14')]===_0x42b375[_0x3102('0x47')]&&_0x137cc8[_0x3102('0x2d')]&&(this['v'][_0x3102('0x37')](_0x137cc8[_0x3102('0x3c')][_0x3102('0x1')]),this['B'](),_0x1c0ac2['stopPropagation'](),_0x1c0ac2['preventDefault']());}),this['S'][_0x3102('0x1d')](document,_0x3102('0x46'),(_0x470c23,_0x8cec26)=>{const _0x45f2a9=_0x8cec26[_0x3102('0x1c')];_0x137cc8[_0x3102('0x2d')]&&_0x137cc8[_0x3102('0x40')][_0x3102('0x48')](_0x45f2a9)||_0x1d1b23[_0x3102('0x27')]['element']['contains'](_0x45f2a9)||(this['v']['clear'](),this['B']());});}['detach'](){if(!this[_0x3102('0x9')])throw new _0x2523cc(_0x3102('0x3'),this);const _0x2c2cbc=this[_0x3102('0x22')]['plugins'][_0x3102('0x49')](_0x3102('0x11'));this['B'](),Array[_0x3102('0x1e')](this['_annotationViewToNarrowView'][_0x3102('0x10')](),_0x59724c=>_0x59724c[_0x3102('0x43')]()),this['_annotationViewToNarrowView'][_0x3102('0xd')](),_0x2c2cbc[_0x3102('0x1a')](),this[_0x3102('0xb')](),this['S']['stopListening'](),this[_0x3102('0x9')]=!0x1;}['destroy'](){this[_0x3102('0x9')]&&this[_0x3102('0x2e')](),this[_0x3102('0xf')][_0x3102('0x32')]();}['_'](_0x13ca0b){if(this['v'][_0x3102('0x25')](_0x13ca0b))return;const _0x4b14dc=this['balloonPanelView'][_0x3102('0x3c')]['first'];_0x4b14dc!==_0x13ca0b?(_0x4b14dc&&this['L'](_0x4b14dc),this['N'](_0x13ca0b),this[_0x3102('0x15')]['content']['clear'](),this[_0x3102('0x15')][_0x3102('0x3c')][_0x3102('0x37')](_0x13ca0b),this['D']()):this['D']();}['D'](){const _0x510d26=this['balloonPanelView'][_0x3102('0x3c')][_0x3102('0x1')];if(!this[_0x3102('0x26')][_0x3102('0x25')](_0x510d26))return;const _0x4112cc=this[_0x3102('0x26')][_0x3102('0x49')](_0x510d26)['element'],_0x38b0ad=function(){const _0x5d77d8=_0x2cd7f5['defaultPositions'];return[_0x5d77d8[_0x3102('0x3b')],_0x5d77d8[_0x3102('0x7')],_0x5d77d8[_0x3102('0x4b')],_0x5d77d8['northArrowSouth'],_0x5d77d8[_0x3102('0x3a')],_0x5d77d8[_0x3102('0x3e')]];}();this[_0x3102('0x15')][_0x3102('0x6')]({'target':_0x4112cc,'positions':_0x38b0ad});}['B'](){const _0x4cc853=this['balloonPanelView'],_0x14fbcb=_0x4cc853[_0x3102('0x3c')]['first'];_0x14fbcb&&(this['L'](_0x14fbcb),_0x4cc853[_0x3102('0xa')](),_0x4cc853[_0x3102('0x3c')][_0x3102('0xd')]());}['N'](_0x9d634b){this['listenTo'](_0x9d634b,'change:height',()=>this['D']()),this['listenTo'](_0x9d634b,_0x3102('0x13'),(_0x251a92,_0x551a12)=>{this['v']['add'](_0x9d634b),this['B'](),_0x551a12();});}['L'](_0x370972){this[_0x3102('0xb')](_0x370972);}}