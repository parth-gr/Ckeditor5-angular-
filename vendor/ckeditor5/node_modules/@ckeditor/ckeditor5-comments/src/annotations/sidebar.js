/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3d35=['top','change:bottom','getIndex','minHeight','config','locale','bottom','requires','length','getSidebarItemView','context','render','last','delete','view','customView','setContainer','sidebar-setcontainer-invalid-element:\x20Container\x20element\x20is\x20not\x20a\x20HTMLElement.','appendChild','destroy','listenTo','class','container','_lastItem','_annotationViewToSidebarItemView','getAnnotationView','change:activeView','init','items','_attachToContainer','updateHeight','content','add','element','get','targetRect','getTarget','plugins','activeView','sidebar.container','stopListening','sidebar-attachtocontainer-missing-container:\x20Missing\x20container\x20element.','set','refresh','Sidebar','sidebar-invalid-layout:\x20Missing\x20positioned\x20container\x20for\x20the\x20editor\x20with\x20a\x20sidebar.','Annotations','resetTop','addView','clear','remove','push'];(function(_0xc3bb1d,_0xca875c){const _0x4f9b6f=function(_0x29e0a8){while(--_0x29e0a8){_0xc3bb1d['push'](_0xc3bb1d['shift']());}};_0x4f9b6f(++_0xca875c);}(_0x3d35,0x183));const _0x3577=function(_0xc3bb1d,_0xca875c){_0xc3bb1d=_0xc3bb1d-0x0;let _0x4f9b6f=_0x3d35[_0xc3bb1d];return _0x4f9b6f;};import _0x293a65 from'@ckeditor/ckeditor5-core/src/contextplugin';import _0xad4415 from'./view/sidebarview';import _0x266426 from'./view/sidebaritemview';import _0x5a36c9 from'../annotations/annotations';import _0x484801 from'@ckeditor/ckeditor5-utils/src/dom/rect';import _0x4ae550 from'@ckeditor/ckeditor5-utils/src/dom/getpositionedancestor';import{isElement as _0x30a867,throttle as _0x213f0f}from'lodash-es';import _0x532ded from'@ckeditor/ckeditor5-utils/src/ckeditorerror';export default class p extends _0x293a65{static get[_0x3577('0x24')](){return[_0x5a36c9];}static get['pluginName'](){return _0x3577('0x15');}constructor(_0x12ef3e){super(_0x12ef3e),this[_0x3577('0x13')](_0x3577('0x0')),this[_0x3577('0x2b')]=this['M'](),this['set'](_0x3577('0x33'),null),this['H']=0x19,this['T']=new Map(),this[_0x3577('0x1')]=new Map();}[_0x3577('0x4')](){this['R']=this['context'][_0x3577('0xe')]['get'](_0x3577('0x17'));const _0x2a68de=this[_0x3577('0x27')][_0x3577('0x21')][_0x3577('0xb')](_0x3577('0x10'));_0x2a68de&&this[_0x3577('0x2d')](_0x2a68de);}[_0x3577('0x2d')](_0x46af80){if(!_0x30a867(_0x46af80))throw new _0x532ded(_0x3577('0x2e'));this['container']=_0x46af80;}[_0x3577('0x6')]({viewClass:_0x529774='',spaceBetweenItems:_0x41d762=0x19}={}){const _0x3e3679=this[_0x3577('0x27')][_0x3577('0xe')][_0x3577('0xb')](_0x5a36c9);if(!_0x30a867(this[_0x3577('0x33')]))throw new _0x532ded(_0x3577('0x12'),this);this[_0x3577('0x33')][_0x3577('0x2f')](this['view'][_0x3577('0xa')]),this['view'][_0x3577('0x32')]=_0x529774,this['H']=_0x41d762,this[_0x3577('0x31')](_0x3e3679,_0x3577('0x3'),(_0x208537,_0x147fe6,_0x4cd4c9)=>{if(_0x4cd4c9){const _0x50c59a=_0x3e3679[_0x3577('0x2')](_0x4cd4c9),_0xa91b1=this[_0x3577('0x26')](_0x50c59a);_0xa91b1&&_0xa91b1[_0x3577('0x18')]();}}),this[_0x3577('0x31')](_0x3e3679[_0x3577('0x5')],_0x3577('0x1b'),(_0xe1b14b,_0x4f9619,_0x21c762)=>{this['q'](_0x4f9619);const _0x5c5645=this['R']['items']['get'](_0x21c762-0x1),_0x1a0f79=this['R']['items'][_0x3577('0xb')](_0x21c762);_0x5c5645&&this[_0x3577('0x26')](_0x5c5645)[_0x3577('0x18')](),_0x1a0f79&&this[_0x3577('0x26')](_0x1a0f79)[_0x3577('0x18')](),this['F']();}),_0x3e3679[_0x3577('0x14')]();}['_detachFromContainer'](){const _0x5af666=this['R'];this[_0x3577('0x11')](),this[_0x3577('0x2b')]['element'][_0x3577('0x1b')]();for(const _0x13a42b of _0x5af666[_0x3577('0x5')])this['q'](_0x13a42b);this[_0x3577('0x2b')]['list'][_0x3577('0x1a')](),this[_0x3577('0x2b')][_0x3577('0x32')]='',this[_0x3577('0x0')]=null,this['W']=null;}[_0x3577('0x19')](_0x4f0565,_0x1bc256){_0x1bc256||(_0x1bc256=_0x4f0565);const _0x201d7a=this['R'],_0xf80344=_0x4f0565[_0x3577('0x2c')],_0x3d9bc1=_0x201d7a[_0x3577('0xd')](_0xf80344),_0x47cbf9=this[_0x3577('0x33')],_0x40fa23=this['j'](_0x47cbf9,_0x3d9bc1);if(!_0x40fa23)throw new _0x532ded(_0x3577('0x16'));const _0x310cbd=new _0x266426(this['context'][_0x3577('0x22')]);this['T'][_0x3577('0x13')](_0x310cbd,_0x4f0565),this[_0x3577('0x1')][_0x3577('0x13')](_0x4f0565,_0x310cbd),_0x310cbd[_0x3577('0x8')][_0x3577('0x9')](_0x1bc256),_0x310cbd['bind']('targetTop')['to'](_0x4f0565,_0x3577('0xc'),_0x3426fc=>{const _0x4037be=new _0x484801(_0x40fa23)['top'],_0x3c16bb=new _0x484801(this[_0x3577('0x2b')][_0x3577('0xa')])[_0x3577('0x1d')]-_0x4037be;return _0x3426fc[_0x3577('0x1d')]-_0x4037be-_0x3c16bb;}),this[_0x3577('0x31')](_0x310cbd,'change:top',_0x213f0f(()=>{if(!_0x310cbd[_0x3577('0x8')][_0x3577('0x25')])return;const _0x5ddba0=this['G'](_0x310cbd);if(!_0x5ddba0)return;const _0x599a86=this['T'][_0x3577('0xb')](_0x5ddba0);_0x201d7a['activeView']===_0x599a86['customView']?this['J'](_0x5ddba0,_0x310cbd):this['K'](_0x310cbd,_0x5ddba0);},0xa,{'leading':!0x1})),this['listenTo'](_0x310cbd,_0x3577('0x1e'),_0x213f0f(()=>{if(!_0x310cbd[_0x3577('0x8')]['length'])return;const _0x6ae81e=this['O'](_0x310cbd);if(!_0x6ae81e)return;const _0x49ffbc=this['T']['get'](_0x6ae81e);_0x201d7a[_0x3577('0xf')]===_0x49ffbc[_0x3577('0x2c')]?this['K'](_0x6ae81e,_0x310cbd):this['J'](_0x310cbd,_0x6ae81e);},0xa,{'leading':!0x1}));const _0x650466=this['G'](_0x310cbd);if(_0x650466){this['J'](_0x650466,_0x310cbd)||_0x310cbd[_0x3577('0x18')]();}else _0x310cbd[_0x3577('0x18')]();return this['F'](),_0x310cbd;}[_0x3577('0x26')](_0x200e90){return this[_0x3577('0x1')][_0x3577('0xb')](_0x200e90);}[_0x3577('0x30')](){this[_0x3577('0x2b')][_0x3577('0x30')]();}['q'](_0x410952){const _0x5aab9d=this[_0x3577('0x26')](_0x410952);this[_0x3577('0x11')](_0x5aab9d),_0x5aab9d[_0x3577('0x30')](),this[_0x3577('0x1')][_0x3577('0x2a')](_0x410952),this['T'][_0x3577('0x2a')](_0x5aab9d);}['M'](){const _0x39d358=new _0xad4415(this[_0x3577('0x27')][_0x3577('0x22')]);return _0x39d358[_0x3577('0x28')](),this['on']('change:_lastItem',(_0xbcafbf,_0x16e378,_0x5e037b,_0x336b0c)=>{_0x336b0c&&_0x39d358['unbind'](_0x3577('0x20')),_0x5e037b?_0x39d358['bind']('minHeight')['to'](_0x5e037b,_0x3577('0x23')):_0x39d358[_0x3577('0x20')]=null;}),_0x39d358;}['F'](){this[_0x3577('0x0')]=this[_0x3577('0x26')](this['R']['items'][_0x3577('0x29')]);}['G'](_0x3d0017){const _0x5d4721=this['R'][_0x3577('0x5')],_0x1a9a09=this['T']['get'](_0x3d0017),_0x15439a=_0x5d4721[_0x3577('0xb')](_0x5d4721[_0x3577('0x1f')](_0x1a9a09)-0x1);return this[_0x3577('0x26')](_0x15439a);}['O'](_0x571bc4){const _0x4290f4=this['R'][_0x3577('0x5')],_0xeda6df=this['T'][_0x3577('0xb')](_0x571bc4),_0x2c013a=_0x4290f4[_0x3577('0xb')](_0x4290f4[_0x3577('0x1f')](_0xeda6df)+0x1);return this[_0x3577('0x26')](_0x2c013a);}['K'](_0x3df73c,_0x223b2b){_0x3df73c['updateHeight']();const _0x20f04d=S(_0x223b2b['bottom']+this['H'],_0x3df73c[_0x3577('0x1d')]);return!!_0x20f04d&&(_0x223b2b[_0x3577('0x1d')]-=_0x20f04d,!0x0);}['J'](_0x36872f,_0x3a08f3){_0x36872f[_0x3577('0x7')]();const _0x48e819=S(_0x36872f[_0x3577('0x23')]+this['H'],_0x3a08f3['top']);return!!_0x48e819&&(_0x3a08f3['top']+=_0x48e819,!0x0);}['j'](_0x590a57,_0x1f05e8){if(!this['W']){const _0x1fd8ea=V(_0x590a57),_0x3d1c57=V(_0x1f05e8);this['W']=function(_0x442cb3,_0x2479f4){for(let _0x23647b=0x0;_0x23647b<_0x442cb3[_0x3577('0x25')];_0x23647b++)for(let _0x3a448d=0x0;_0x3a448d<_0x2479f4[_0x3577('0x25')];_0x3a448d++)if(_0x442cb3[_0x23647b]===_0x2479f4[_0x3a448d])return _0x442cb3[_0x23647b];}(_0x1fd8ea,_0x3d1c57);}return this['W'];}}function V(_0x57df42){const _0x2e045f=[];let _0x1f3f2b=_0x57df42;for(;null!==_0x1f3f2b;)_0x1f3f2b=_0x4ae550(_0x1f3f2b),_0x1f3f2b&&_0x2e045f[_0x3577('0x1c')](_0x1f3f2b);return _0x2e045f;}function S(_0x50ce56,_0x1a38f6){return Math['max'](_0x50ce56-_0x1a38f6,0x0);}