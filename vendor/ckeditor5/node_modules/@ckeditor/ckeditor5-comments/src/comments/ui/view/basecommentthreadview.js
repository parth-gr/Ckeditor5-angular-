/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x2f598c from'@ckeditor/ckeditor5-ui/src/view';import lt from'./commentthreadinputview';import vt from'./commentslistview';export default class wt extends _0x2f598c{constructor(_0x2b5326,_0x193a94,_0x53bc9b,_0xba8a18){super(_0x2b5326),this['set']('isActive',!0x1),this['set']('isDirty',!0x1),this['_model']=_0x193a94,this['_localUser']=_0x53bc9b,this['_config']=_0xba8a18,this['commentsListView']=new vt(_0x2b5326,_0x193a94,Object['assign']({'CommentView':this['_config']['CommentView']},_0xba8a18)),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']),this['bind']('length')['to'](this['commentsListView'],'length'),this['commentThreadInputView']=this['lt'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x93fef9,_0x3a3142)=>_0x93fef9||!!_0x3a3142);}['focus'](){this['element']['focus']();}['destroy'](){this['isDirty']=!0x1,this['commentsListView']['destroy'](),this['commentThreadInputView']['destroy'](),super['destroy']();}['lt'](){const {t:t}=this['locale'],_0x7adbea=new lt(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x2371d4=_0x7adbea['commentInputView'];return _0x7adbea['bind']('showInput')['to'](this,'isActive',this['_model'],'isReadOnly',_0x2371d4,'value',(_0x1683c4,_0x444388,_0x3c30b6)=>!!_0x3c30b6||_0x1683c4&&!_0x444388),_0x2371d4['bind']('placeholder')['to'](this,'length',_0x6cd2f9=>t(_0x6cd2f9?'Reply...':'Write\x20a\x20comment...')),_0x2371d4['on']('submit',(_0x5dd97a,_0x3d7623)=>{this['fire']('addComment',_0x3d7623);}),_0x2371d4['on']('cancel',()=>{this['focus']();}),_0x2371d4['bind']('disabledSubmit')['to'](this['_model'],'isReadOnly'),_0x2371d4['on']('cancel',_0x36cebd=>{0x0==this['length']&&(this['fire']('removeCommentThread'),_0x36cebd['stop']());}),this['on']('change:isActive',(_0x2c155c,_0x29cd94,_0x37b8bc)=>{_0x37b8bc||this['length']||_0x2371d4['value']||this['fire']('removeCommentThread');}),_0x7adbea;}}