/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x7c27=['maxCommentCharsWhenCollapsed','length','change:hasDirtyComment','maxCommentsWhenCollapsed','commentViews','listenTo','remove','ck-thread__comments','createCollection','weight','set','delegate','element','CommentView','destroy','render','expand','visibleViews','collapse','commentUpdated','focus','stopListening','maxThreadTotalWeight','hasDirtyComment','from','_collapsedCommentsView','equal','get','formatDateTime','refreshVisibleViews','comments','isActive','count','_config','isEditMode','insert','viewUid','setTemplate','add','_model','some'];(function(_0x26c66d,_0x5cb8ee){const _0x20248c=function(_0x1fba61){while(--_0x1fba61){_0x26c66d['push'](_0x26c66d['shift']());}};_0x20248c(++_0x5cb8ee);}(_0x7c27,0x1b7));const _0x23d6=function(_0x26c66d,_0x5cb8ee){_0x26c66d=_0x26c66d-0x0;let _0x20248c=_0x7c27[_0x26c66d];return _0x20248c;};import _0x37ddbb from'@ckeditor/ckeditor5-ui/src/view';import _0x64deff from'@ckeditor/ckeditor5-utils/src/diff';import _0x267e39 from'./collapsedcommentsview';import _0x19cecb from'@ckeditor/ckeditor5-utils/src/collection';export default class vt extends _0x37ddbb{constructor(_0x2f9cbd,_0x4c1965,_0x10c54a){super(_0x2f9cbd),this['set'](_0x23d6('0x23'),!0x1),this[_0x23d6('0x16')]('length',_0x4c1965['comments']['length']),this[_0x23d6('0x16')](_0x23d6('0x2'),!0x1),this[_0x23d6('0xa')]=_0x4c1965,this['_config']=_0x10c54a,this[_0x23d6('0x10')]=this[_0x23d6('0x14')](),this[_0x23d6('0x1d')]=this['createCollection'](),this[_0x23d6('0x25')]=new _0x267e39(_0x2f9cbd),this[_0x23d6('0x25')]['bind'](_0x23d6('0x3'))['to'](this,_0x23d6('0xd'),_0x25ac52=>_0x25ac52-this[_0x23d6('0x4')][_0x23d6('0xf')]);for(const _0x44b8a6 of _0x4c1965['comments'])this['Ct'](_0x44b8a6);this['listenTo'](_0x4c1965['comments'],_0x23d6('0x9'),(_0x6b62b6,_0xcb5a30)=>{this['length']++,this['Ct'](_0xcb5a30),this[_0x23d6('0x0')]();}),this[_0x23d6('0x11')](_0x4c1965[_0x23d6('0x1')],'remove',(_0x148ee7,_0x3565af)=>{this['length']--,this['gt'](_0x3565af),this[_0x23d6('0x0')]();}),this[_0x23d6('0x11')](_0x4c1965,_0x23d6('0x1f'),()=>this['refreshVisibleViews']()),this['on']('change:isActive',()=>this[_0x23d6('0x0')]()),this['on'](_0x23d6('0xe'),()=>this[_0x23d6('0x0')]()),this[_0x23d6('0x8')]({'tag':'ul','attributes':{'class':[_0x23d6('0x13')]},'children':this['visibleViews']});}get['yt'](){return this['_model'][_0x23d6('0x15')]>this[_0x23d6('0x4')][_0x23d6('0x22')]&&!this[_0x23d6('0x2')]&&!this[_0x23d6('0x23')];}[_0x23d6('0x1b')](){super[_0x23d6('0x1b')](),this['refreshVisibleViews']();}[_0x23d6('0x20')](){this[_0x23d6('0x18')][_0x23d6('0x20')]();}[_0x23d6('0x1a')](){this[_0x23d6('0x25')][_0x23d6('0x1a')]();for(const _0x1745a1 of this[_0x23d6('0x10')])_0x1745a1[_0x23d6('0x1a')]();super[_0x23d6('0x1a')]();}[_0x23d6('0x0')](){this['yt']?this['vt']():this['At']();}['Ct'](_0x40fedf){const _0x4a2ba9=new this['_config'][(_0x23d6('0x19'))](this['locale'],_0x40fedf,{'maxCommentCharsWhenCollapsed':this[_0x23d6('0x4')][_0x23d6('0xc')],'formatDateTime':this['_config'][_0x23d6('0x28')],'editorConfig':this[_0x23d6('0x4')]['editorConfig']});_0x4a2ba9[_0x23d6('0x7')]=_0x40fedf['id'],_0x4a2ba9['delegate']('removeComment')['to'](this),_0x4a2ba9[_0x23d6('0x17')]('updateComment')['to'](this),this[_0x23d6('0x11')](_0x4a2ba9,'change:isEditMode',()=>this['xt']()),this[_0x23d6('0x10')]['add'](_0x4a2ba9);}['gt'](_0x5e9b13){const _0x48ab50=this[_0x23d6('0x10')][_0x23d6('0x12')](_0x5e9b13['id']);this[_0x23d6('0x21')](_0x48ab50),_0x48ab50[_0x23d6('0x5')]&&this['xt'](),_0x48ab50['destroy']();}['xt'](){this[_0x23d6('0x23')]=Array[_0x23d6('0x24')](this[_0x23d6('0x10')])[_0x23d6('0xb')](_0x3b9ef0=>_0x3b9ef0[_0x23d6('0x5')]);}['vt'](){const _0x1e40bb=function(_0x56a0d0){const _0x380cc3=new _0x19cecb();for(const _0x4fa5a0 of _0x56a0d0)_0x380cc3[_0x23d6('0x9')](_0x4fa5a0);return _0x380cc3;}(this['commentViews']),_0x3ab363=this['_collapsedCommentsView'][_0x23d6('0x3')];for(let _0x4efa4e=0x1;_0x4efa4e<=_0x3ab363;_0x4efa4e++)_0x1e40bb['remove'](0x1);for(const _0x212c73 of _0x1e40bb)_0x212c73[_0x23d6('0x1e')]();_0x3ab363>0x0&&_0x1e40bb[_0x23d6('0x9')](this[_0x23d6('0x25')],0x1),Dt(_0x64deff(Array[_0x23d6('0x24')](this[_0x23d6('0x1d')]),Array[_0x23d6('0x24')](_0x1e40bb)),this[_0x23d6('0x1d')],_0x1e40bb);}['At'](){Dt(_0x64deff(Array[_0x23d6('0x24')](this['visibleViews']),Array[_0x23d6('0x24')](this['commentViews'])),this[_0x23d6('0x1d')],this['commentViews']);for(const _0x55624c of this[_0x23d6('0x1d')])_0x55624c[_0x23d6('0x1c')]();}}function Dt(_0x3818dc,_0x56384c,_0x3774ba){let _0x250cdd=0x0;for(const _0x56322e of _0x3818dc)switch(_0x56322e){case _0x23d6('0x6'):_0x56384c[_0x23d6('0x9')](_0x3774ba[_0x23d6('0x27')](_0x250cdd),_0x250cdd),_0x250cdd++;break;case'delete':_0x56384c[_0x23d6('0x12')](_0x250cdd);break;case _0x23d6('0x26'):_0x250cdd++;}}