/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x39b4=['buffers','wasUndone','targetPosition','__className','_getCompressorByName','MoveOperation','decompress','sourcePosition','compress','howMany','root'];(function(_0x43842a,_0x2cdb28){const _0x194287=function(_0x17d30f){while(--_0x17d30f){_0x43842a['push'](_0x43842a['shift']());}};_0x194287(++_0x2cdb28);}(_0x39b4,0x10f));const _0x16f9=function(_0x43842a,_0x2cdb28){_0x43842a=_0x43842a-0x0;let _0x194287=_0x39b4[_0x43842a];return _0x194287;};import _0x14ea48 from'./actioncompressor';import{arePositionsEqual as _0x4885de,getPositionShiftedBy as _0x2cd437}from'../utils';import{cloneDeep as _0x134264}from'lodash-es';export default class n extends _0x14ea48{['h'](_0x11edf1,_0x5e8a1c){return _0x5e8a1c[_0x16f9('0x2')]++,_0x5e8a1c[_0x16f9('0x0')]=_0x134264(_0x11edf1[_0x16f9('0x0')]),_0x5e8a1c;}['m'](_0x26fd3b){const _0x3ee26c=_0x134264(_0x26fd3b);return _0x26fd3b[_0x16f9('0x2')]--,_0x3ee26c[_0x16f9('0x2')]=0x1,_0x3ee26c[_0x16f9('0x0')]=_0x2cd437(_0x3ee26c['sourcePosition'],_0x26fd3b[_0x16f9('0x2')]),_0x3ee26c;}['o'](_0x445de2,_0x11936f){return!(!i(_0x445de2)||!i(_0x11936f))&&(_0x4885de(_0x2cd437(_0x445de2[_0x16f9('0x0')],-0x1),_0x11936f['sourcePosition'])&&_0x4885de(_0x445de2[_0x16f9('0x6')],_0x11936f[_0x16f9('0x6')]));}['i'](_0x3e7519){const _0x36154e={'types':[],'buffers':[],'baseVersion':0x0};return this['s'][_0x16f9('0x8')](_0x16f9('0x9'))[_0x16f9('0x1')](_0x36154e,[_0x3e7519]),_0x36154e[_0x16f9('0x4')][0x0];}['l'](_0x3bd8b5){const _0x538d81=[];return this['s'][_0x16f9('0x8')]('MoveOperation')[_0x16f9('0xa')](_0x538d81,_0x3bd8b5),_0x538d81[0x0];}}function i(_0x309259){return _0x16f9('0x9')==_0x309259[_0x16f9('0x7')]&&'$graveyard'==_0x309259['targetPosition'][_0x16f9('0x3')]&&0x1==_0x309259[_0x16f9('0x2')]&&!_0x309259[_0x16f9('0x5')];}