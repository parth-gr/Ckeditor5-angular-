/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x41d3=['from','buffers','InsertOperation','data','every','attributes','__className','nodes','wasUndone','_getCompressorByName','compress','position','length','keys','decompress','substr'];(function(_0x568f70,_0x55c6bf){const _0x480eb0=function(_0x3f3f0d){while(--_0x3f3f0d){_0x568f70['push'](_0x568f70['shift']());}};_0x480eb0(++_0x55c6bf);}(_0x41d3,0xea));const _0x5214=function(_0x568f70,_0x55c6bf){_0x568f70=_0x568f70-0x0;let _0x480eb0=_0x41d3[_0x568f70];return _0x480eb0;};import _0x3fb055 from'./actioncompressor';import{arePositionsEqual as _0x2a9606,getPositionShiftedBy as _0x300e85}from'../utils';import{cloneDeep as _0x4f14f2}from'lodash-es';export default class c extends _0x3fb055{['h'](_0x1b158c,_0x123acc){return _0x123acc['nodes'][0x0]['data']+=_0x1b158c[_0x5214('0xd')][0x0][_0x5214('0x9')],_0x123acc;}['m'](_0x2bdb45){const _0x4fdb1e=_0x4f14f2(_0x2bdb45),_0x5e0295=_0x4fdb1e['nodes'][0x0],_0x158ac9=_0x2bdb45[_0x5214('0xd')][0x0],_0x3b47ab=Array[_0x5214('0x6')](_0x158ac9[_0x5214('0x9')])[0x0],_0x339c54=_0x3b47ab[_0x5214('0x2')];return _0x5e0295[_0x5214('0x9')]=_0x3b47ab,_0x158ac9[_0x5214('0x9')]=_0x158ac9[_0x5214('0x9')][_0x5214('0x5')](_0x339c54),_0x2bdb45[_0x5214('0x1')]=_0x300e85(_0x2bdb45[_0x5214('0x1')],_0x339c54),_0x4fdb1e;}['o'](_0x326727,_0x783291){if(i(_0x326727)&&i(_0x783291)){const _0x1f2d08=_0x326727[_0x5214('0xd')][0x0][_0x5214('0x9')]['length'],_0xc243fc=_0x2a9606(_0x300e85(_0x326727[_0x5214('0x1')],_0x1f2d08),_0x783291[_0x5214('0x1')]),_0x1dd393=_0x326727['nodes'][0x0],_0x3b2b12=_0x783291[_0x5214('0xd')][0x0];return _0xc243fc&&function(_0x488ce6,_0x23f51d){const _0x48dd06=Object[_0x5214('0x3')](_0x488ce6[_0x5214('0xb')]||{}),_0x3ff0bd=Object[_0x5214('0x3')](_0x23f51d[_0x5214('0xb')]||{});if(_0x48dd06['length']!==_0x3ff0bd[_0x5214('0x2')])return!0x1;return _0x48dd06[_0x5214('0xa')](_0x1453e0=>_0x23f51d['attributes'][_0x1453e0]&&_0x23f51d['attributes'][_0x1453e0]===_0x488ce6[_0x5214('0xb')][_0x1453e0]);}(_0x1dd393,_0x3b2b12);}return!0x1;}['i'](_0x5dd49a){const _0x3ce068={'types':[],'buffers':[],'baseVersion':0x0};return this['s'][_0x5214('0xf')](_0x5214('0x8'))[_0x5214('0x0')](_0x3ce068,[_0x5dd49a]),_0x3ce068[_0x5214('0x7')][0x0];}['l'](_0x602ab9){const _0x57dbac=[];return this['s'][_0x5214('0xf')](_0x5214('0x8'))[_0x5214('0x4')](_0x57dbac,_0x602ab9),_0x57dbac[0x0];}}function i(_0x542a78){return _0x5214('0x8')==_0x542a78[_0x5214('0xc')]&&0x1==_0x542a78[_0x5214('0xd')][_0x5214('0x2')]&&_0x542a78[_0x5214('0xd')][0x0][_0x5214('0x9')]&&!_0x542a78[_0x5214('0xe')]&&0x1==Array[_0x5214('0x6')](_0x542a78[_0x5214('0xd')][0x0][_0x5214('0x9')])['length'];}