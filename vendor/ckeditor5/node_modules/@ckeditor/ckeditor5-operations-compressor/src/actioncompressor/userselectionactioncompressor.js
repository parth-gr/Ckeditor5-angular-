/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x140a=['shift','end','start','buffers','stickiness','user:','push','oldRange','types','newRange','toNone','_getCompressorByName','__className','user:position:','decompress','startsWith','split','name','MarkerOperation'];(function(_0x1b9d8c,_0x4fac1b){const _0x2b9197=function(_0x14ba75){while(--_0x14ba75){_0x1b9d8c['push'](_0x1b9d8c['shift']());}};_0x2b9197(++_0x4fac1b);}(_0x140a,0x1b1));const _0x5cd8=function(_0x1b9d8c,_0x4fac1b){_0x1b9d8c=_0x1b9d8c-0x0;let _0x2b9197=_0x140a[_0x1b9d8c];return _0x2b9197;};import _0x58770d from'./actioncompressor';import{arePositionsEqual as _0x3d5a91}from'../utils';import{cloneDeep as _0x2a8d1e}from'lodash-es';export default class u extends _0x58770d{['compress'](_0x3cff54,_0x9ce13f){if(!function(_0x3ac5f5,_0x5379aa){if(!_0x3ac5f5||!_0x5379aa)return!0x1;if(_0x5cd8('0x3')!=_0x3ac5f5[_0x5cd8('0x10')]||_0x5cd8('0x3')!=_0x5379aa[_0x5cd8('0x10')])return!0x1;if(_0x3ac5f5[_0x5cd8('0x2')][_0x5cd8('0x0')](_0x5cd8('0x9'))&&_0x5379aa['name'][_0x5cd8('0x0')](_0x5cd8('0x9'))&&_0x3ac5f5[_0x5cd8('0x2')]!=_0x5379aa[_0x5cd8('0x2')])return!0x0;return!0x1;}(_0x9ce13f[0x0],_0x9ce13f[0x1]))return!0x1;const _0x5ad866=_0x9ce13f[_0x5cd8('0x4')]();return _0x5ad866[_0x5cd8('0xb')]=null,_0x5ad866[_0x5cd8('0xd')]&&_0x3d5a91(_0x5ad866[_0x5cd8('0xd')][_0x5cd8('0x6')],_0x5ad866['newRange'][_0x5cd8('0x5')])&&(_0x5ad866['newRange'][_0x5cd8('0x5')]=null),_0x9ce13f[_0x5cd8('0x4')](),_0x3cff54[_0x5cd8('0xc')]['push'](this['id']),_0x3cff54[_0x5cd8('0xc')][_0x5cd8('0xa')](0x0),_0x3cff54[_0x5cd8('0x7')][_0x5cd8('0xa')](this['i'](_0x5ad866)),!0x0;}[_0x5cd8('0x12')](_0x46e598,_0x41a06b){const _0x3a0935=this['l'](_0x41a06b);_0x3a0935[_0x5cd8('0xd')]&&!_0x3a0935['newRange']['end']&&(_0x3a0935[_0x5cd8('0xd')]['end']=_0x2a8d1e(_0x3a0935[_0x5cd8('0xd')]['start']));const _0x82a168=_0x2a8d1e(_0x3a0935);_0x82a168[_0x5cd8('0xd')]&&(_0x82a168[_0x5cd8('0xd')][_0x5cd8('0x6')][_0x5cd8('0x8')]=_0x5cd8('0xe'),_0x82a168['newRange']['end']=_0x2a8d1e(_0x82a168[_0x5cd8('0xd')][_0x5cd8('0x6')])),_0x82a168[_0x5cd8('0x2')]=_0x5cd8('0x11')+_0x82a168['name'][_0x5cd8('0x1')](':')[0x2],_0x41a06b['types']['shift'](),_0x46e598[_0x5cd8('0xa')](_0x3a0935),_0x46e598['push'](_0x82a168);}['i'](_0x31bcf2){const _0x32087f={'types':[],'buffers':[],'baseVersion':0x0};return this['s']['_getCompressorByName'](_0x5cd8('0x3'))['compress'](_0x32087f,[_0x31bcf2]),_0x32087f[_0x5cd8('0x7')][0x0];}['l'](_0x48b128){const _0x3c00a0=[];return this['s'][_0x5cd8('0xf')](_0x5cd8('0x3'))['decompress'](_0x3c00a0,_0x48b128),_0x3c00a0[0x0];}}