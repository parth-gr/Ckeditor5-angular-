/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1347=['bool','shift','compress','operationName','decompress','nodes','attributesJson','types','Position','description','children','repeated','boolean','every','push','__className','_protobufDescriptor','attributesBoolean','keys','attributes'];(function(_0x35ba36,_0xe61493){const _0x4303ac=function(_0x1206a5){while(--_0x1206a5){_0x35ba36['push'](_0x35ba36['shift']());}};_0x4303ac(++_0xe61493);}(_0x1347,0xaf));const _0x6e2c=function(_0x35ba36,_0xe61493){_0x35ba36=_0x35ba36-0x0;let _0x4303ac=_0x1347[_0x35ba36];return _0x4303ac;};import _0x2bddad from'./operationcompressor';import{parsePositionBeforeCompression as _0x24a865,parsePositionAfterCompression as _0x34b10d}from'../utils';export default class O extends _0x2bddad{static get[_0x6e2c('0xe')](){return{'fields':{'position':{'type':_0x6e2c('0xd'),'id':0x1},'nodes':{'rule':_0x6e2c('0x10'),'type':'Element','id':0x2},'shouldReceiveAttributes':{'type':_0x6e2c('0x5'),'id':0x3},'wasUndone':{'type':_0x6e2c('0x5'),'id':0x4}}};}['compress'](_0x54dfbd,_0x5218bd){const _0x3530a8=_0x5218bd['shift']();!function _0x36f1b3(_0x5d0a4a){for(const _0x3e27f2 of _0x5d0a4a){if(_0x3e27f2[_0x6e2c('0x4')]){const _0x2e15a9=_0x3e27f2[_0x6e2c('0x4')];S(_0x2e15a9)?_0x3e27f2[_0x6e2c('0x2')]=_0x2e15a9:_0x3e27f2[_0x6e2c('0xb')]=JSON['stringify'](_0x2e15a9);}_0x3e27f2[_0x6e2c('0xf')]&&_0x36f1b3(_0x3e27f2[_0x6e2c('0xf')]);}}(_0x3530a8['nodes']),_0x24a865(_0x3530a8),_0x54dfbd['buffers']['push'](this[_0x6e2c('0x1')][_0x6e2c('0x7')](_0x3530a8)),_0x54dfbd[_0x6e2c('0xc')][_0x6e2c('0x13')](this['id']);}[_0x6e2c('0x9')](_0x58ab8b,_0x411413){const {types:_0x3ece26,buffers:_0x16501f}=_0x411413,_0x438809=this[_0x6e2c('0x1')]['decompress'](_0x16501f[_0x6e2c('0x6')]());_0x3ece26[_0x6e2c('0x6')](),_0x438809[_0x6e2c('0xa')]||(_0x438809[_0x6e2c('0xa')]=[]),function _0x2731f5(_0x5cc5bf){for(const _0x2ae5df of _0x5cc5bf)(_0x2ae5df['attributesBoolean']||_0x2ae5df[_0x6e2c('0xb')])&&(_0x2ae5df[_0x6e2c('0x2')]?(_0x2ae5df['attributes']=_0x2ae5df[_0x6e2c('0x2')],delete _0x2ae5df[_0x6e2c('0x2')]):(_0x2ae5df[_0x6e2c('0x4')]=JSON['parse'](_0x2ae5df[_0x6e2c('0xb')]),delete _0x2ae5df[_0x6e2c('0xb')])),_0x2ae5df[_0x6e2c('0xf')]&&_0x2731f5(_0x2ae5df[_0x6e2c('0xf')]);}(_0x438809[_0x6e2c('0xa')]),_0x34b10d(_0x438809),_0x438809[_0x6e2c('0x0')]=this[_0x6e2c('0x8')],_0x58ab8b['push'](_0x438809);}}function S(_0x376bf3){return Object[_0x6e2c('0x3')](_0x376bf3)[_0x6e2c('0x12')](_0x46fe85=>_0x6e2c('0x11')==typeof _0x376bf3[_0x46fe85]);}