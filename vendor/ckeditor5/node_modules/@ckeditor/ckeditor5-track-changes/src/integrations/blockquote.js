/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x5a633f from'@ckeditor/ckeditor5-core/src/plugin';export default class k extends _0x5a633f{['afterInit'](){const _0x299d01=this['editor'],{t:t}=_0x299d01['locale'];if(!_0x299d01['plugins']['has']('BlockQuoteEditing'))return;const _0x1357f1=_0x299d01['plugins']['get']('TrackChangesEditing'),_0x585fdd=this['editor']['commands']['get']('blockQuote');_0x1357f1['enableCommand']('blockQuote',(_0xa8cfb3,_0x44d447={})=>{const _0x482c7c=this['editor']['model']['document']['selection'],_0x1f6276=_0x44d447&&void 0x0!==_0x44d447['forceValue']?_0x44d447['forceValue']:!_0x585fdd['value'];let _0x49321e=[];if(_0x1f6276){const _0x4a99c4=Array['from'](_0x482c7c['getSelectedBlocks']())['filter'](_0x286235=>b(_0x286235)||function(_0x334cd6,_0x5d420f){const _0x135c6b=_0x5d420f['checkChild'](_0x334cd6['parent'],'blockQuote'),_0x427af1=_0x5d420f['checkChild'](['$root','blockQuote'],_0x334cd6);return _0x135c6b&&_0x427af1;}(_0x286235,this['editor']['model']['schema']));_0x49321e=[Q(_0x4a99c4,_0x299d01['model'])];}else{const _0x42994e=Array['from'](_0x482c7c['getSelectedBlocks']())['filter'](_0x472bb2=>b(_0x472bb2));_0x49321e=function(_0x56abf2,_0x505852){let _0x10ffb0,_0x3997d2=0x0;const _0x4e00d1=[],_0x27f31b=_0x505852['schema'];for(;_0x3997d2<_0x56abf2['length'];){const _0x52492f=_0x56abf2[_0x3997d2],_0x176678=_0x56abf2[_0x3997d2+0x1];_0x10ffb0||(_0x10ffb0=_0x505852['createPositionBefore'](_0x52492f)),_0x176678&&_0x52492f['nextSibling']==_0x176678||(_0x4e00d1['push'](_0x505852['createRange'](_0x10ffb0,_0x27f31b['isObject'](_0x52492f)?_0x505852['createPositionAfter'](_0x52492f):_0x505852['createPositionAt'](_0x52492f,'end'))),_0x10ffb0=null),_0x3997d2++;}return _0x4e00d1;}(_0x42994e,_0x299d01['model']);}_0x299d01['model']['change'](()=>{for(const _0x5fccb1 of _0x49321e)_0x1357f1['markBlockFormat'](_0x5fccb1,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x1f6276}]});});}),_0x1357f1['_descriptionFactory']['registerDescriptionCallback'](_0x270f05=>{const {data:_0x40e834}=_0x270f05;if(_0x40e834&&'blockQuote'==_0x40e834['commandName']){const _0x14a609=t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});return _0x40e834['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Format:*\x20%0',_0x14a609)}:{'type':'format','content':t('*Remove\x20format:*\x20%0',_0x14a609)};}});}}function b(_0x3bd305){return'blockQuote'==_0x3bd305['parent']['name'];}function Q(_0x4d707a,_0x467861){const _0x46a3b2=_0x467861['schema'],_0x194389=_0x4d707a[_0x4d707a['length']-0x1],_0x4c4bfb=_0x467861['createPositionAt'](_0x4d707a[0x0],'before'),_0x385114=_0x46a3b2['isObject'](_0x194389)?_0x467861['createPositionAfter'](_0x194389):_0x467861['createPositionAt'](_0x194389,'end');return _0x467861['createRange'](_0x4c4bfb,_0x385114);}