/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x415fa1 from'@ckeditor/ckeditor5-core/src/plugin';import{normalizeColorOptions as _0x1f3208}from'@ckeditor/ckeditor5-ui/src/colorgrid/utils';import{normalizeOptions as _0x261dc6}from'@ckeditor/ckeditor5-font/src/fontsize/utils';import{getRangesWithAttribute as _0x132df7}from'./utils';const S=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];export default class F extends _0x415fa1{['afterInit'](){const {t:t}=this['editor']['locale'];for(const {pluginName:_0x51e942,commandName:_0xb9ca31}of S)this['editor']['plugins']['has'](_0x51e942)&&this['l'](_0xb9ca31);this['editor']['plugins']['get']('TrackChangesEditing')['_descriptionFactory']['registerDescriptionCallback'](_0x24d5ad=>{const {data:_0x3bbbaf}=_0x24d5ad;if(null!=_0x3bbbaf){if('fontSize'==_0x3bbbaf['commandName']){const _0x112444=_0x3bbbaf['commandParams'][0x0]['value'];if(_0x112444){const _0x27fb8f=_0x261dc6(this['editor']['config']['get']('fontSize.options'))['find'](_0xa32c0e=>_0xa32c0e['model']==_0x112444)['title'],_0x5255dc=this['editor']['locale']['_t'](_0x27fb8f)['toLowerCase']();return{'type':'format','content':t('*Set\x20font\x20size:*\x20%0',_0x5255dc)};}return{'type':'format','content':t('*Reset\x20font\x20size*')};}if('fontFamily'==_0x3bbbaf['commandName']){const _0x4b6117=_0x3bbbaf['commandParams'][0x0]['value'];return _0x4b6117?{'type':'format','content':t('*Set\x20font\x20family:*\x20%0',_0x4b6117)}:{'type':'format','content':t('*Reset\x20font\x20family*')};}if('fontColor'==_0x3bbbaf['commandName']){const _0x46673f=_0x3bbbaf['commandParams'][0x0]['value'];if(_0x46673f){const _0x41b606=_0x1f3208(this['editor']['config']['get']('fontColor.colors'))['find'](_0x56e2e5=>_0x56e2e5['model']==_0x46673f)['label'],_0x76c67=this['editor']['locale']['_t'](_0x41b606)['toLowerCase']();return{'type':'format','content':t('*Set\x20font\x20color:*\x20%0',_0x76c67)};}return{'type':'format','content':t('*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x3bbbaf['commandName']){const _0xa35056=_0x3bbbaf['commandParams'][0x0]['value'];if(_0xa35056){const _0x46c1da=_0x1f3208(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x4f188a=>_0x4f188a['model']==_0xa35056)['label'],_0x437d0=this['editor']['locale']['_t'](_0x46c1da)['toLowerCase']();return{'type':'format','content':t('*Set\x20font\x20background\x20color:*\x20%0',_0x437d0)};}return{'type':'format','content':t('*Reset\x20font\x20background\x20color*')};}}});}['l'](_0x468583){const _0xd0dd91=this['editor'];_0xd0dd91['plugins']['get']('TrackChangesEditing')['enableCommand'](_0x468583,(_0x3751fd,_0x32a96e={})=>{const _0x32f666=_0x32a96e['value'],_0x18dfe3=_0xd0dd91['model']['document']['selection']['getFirstRange']();_0x18dfe3['isCollapsed']?_0x3751fd(_0x32a96e):_0xd0dd91['model']['change'](()=>{const _0x66911e=_0x32f666?[_0x18dfe3]:_0x132df7(_0x468583,_0x18dfe3,_0xd0dd91['model']);for(const _0x212987 of _0x66911e)_0xd0dd91['plugins']['get']('TrackChangesEditing')['markInlineFormat'](_0x212987,{'commandName':_0x468583,'commandParams':[{'value':_0x32f666}]});});});}}