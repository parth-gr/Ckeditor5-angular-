/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x5daa15 from'@ckeditor/ckeditor5-core/src/plugin';import{normalizeImageStyles as _0x543b71}from'@ckeditor/ckeditor5-image/src/imagestyle/utils';import'../../theme/integrations/image.css';export default class T extends _0x5daa15{['afterInit'](){const _0x142149=this['editor'];if(!_0x142149['plugins']['has']('ImageEditing'))return;const _0xa9d097=_0x142149['plugins']['get']('TrackChangesEditing'),{t:t}=_0x142149['locale'];_0xa9d097['enableCommand']('imageInsert'),_0xa9d097['_descriptionFactory']['registerElementLabel']('image',_0x1fdcdd=>t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x1fdcdd)),_0x142149['plugins']['has']('ImageUploadEditing')&&_0xa9d097['enableCommand']('imageUpload'),_0x142149['plugins']['has']('ImageStyleEditing')&&_0xa9d097['enableCommand']('imageStyle',(_0x1ccb0f,_0x32eb52)=>{const _0x56d18f=_0x142149['commands']['get']('imageStyle'),_0x4502de=_0x142149['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];(_0x4502de['hasAttribute']('imageStyle')?_0x4502de['getAttribute']('imageStyle'):_0x56d18f['defaultStyle'])!=_0x32eb52['value']&&_0x142149['model']['change'](()=>{_0xa9d097['markBlockFormat'](_0x4502de,{'commandName':'imageStyle','commandParams':[_0x32eb52]});});}),_0x142149['plugins']['has']('ImageResize')&&_0xa9d097['enableCommand']('imageResize',(_0x17caf0,_0x3320c8)=>{const _0x491b9e=_0x142149['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];_0x491b9e['getAttribute']('width')!=_0x3320c8['width']&&_0x142149['model']['change'](()=>{_0xa9d097['markBlockFormat'](_0x491b9e,{'commandName':'imageResize','commandParams':[_0x3320c8]});});}),_0x142149['plugins']['has']('ImageTextAlternativeEditing')&&_0xa9d097['enableCommand']('imageTextAlternative',(_0x1d4655,_0xef8211)=>{const _0x35f571=_0x142149['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];(_0x35f571['hasAttribute']('alt')?_0x35f571['getAttribute']('alt'):'')!=_0xef8211['newValue']&&_0x142149['model']['change'](()=>{_0xa9d097['markBlockFormat'](_0x35f571,{'commandName':'imageTextAlternative','commandParams':[_0xef8211]});});});const _0x5231d9={},_0x171e99=_0x543b71(this['editor']['config']['get']('image.styles'));for(const _0x22222 of _0x171e99)_0x5231d9[_0x22222['name']]=_0x22222['title']['toLowerCase']();_0xa9d097['_descriptionFactory']['registerDescriptionCallback'](_0x5671dd=>{const {data:_0x2c6578}=_0x5671dd;if(_0x2c6578)if('imageStyle'==_0x2c6578['commandName']){const _0x3f9cf5=_0x2c6578['commandParams'][0x0]['value'];switch(_0x3f9cf5){case'full':return _0x1ee387(t({'string':'full\x20width\x20image','id':'FORMAT_FULL_WIDTH_IMAGE'}));case'side':return _0x1ee387(t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'}));default:return _0x1ee387(_0x5231d9[_0x3f9cf5]||_0x3f9cf5);}}else{if('imageTextAlternative'==_0x2c6578['commandName']){const _0x57bc86=_0x2c6578['commandParams'][0x0]['newValue'];return _0x57bc86?{'type':'format','content':t('*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x57bc86+'\x22')}:{'type':'format','content':t('*Remove\x20image\x20text\x20alternative*')};}if('imageResize'==_0x2c6578['commandName']){const _0x5f530e=_0x2c6578['commandParams'][0x0]['width'];return _0x5f530e?{'type':'format','content':t('*Set\x20image\x20width:*\x20%0',_0x5f530e)}:{'type':'format','content':t('*Reset\x20image\x20width*')};}}function _0x1ee387(_0x39c0e9){return{'type':'format','content':t('*Format:*\x20%0',_0x39c0e9)};}});}}