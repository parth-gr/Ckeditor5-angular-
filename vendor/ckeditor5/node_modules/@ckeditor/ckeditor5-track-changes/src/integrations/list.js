/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x10afdf from'@ckeditor/ckeditor5-core/src/plugin';export default class _ extends _0x10afdf{['afterInit'](){const _0x2c1df2=this['editor'];if(!_0x2c1df2['plugins']['has']('ListEditing'))return;const _0x4fafdf=_0x2c1df2['plugins']['get']('TrackChangesEditing'),_0x429b82=_0x2c1df2['plugins']['has']('TodoListEditing');function _0x2c6810(_0x1aca5c){return()=>{const _0x57441d=_0x2c1df2['model']['document']['selection'];if(_0x2c1df2['commands']['get'](_0x1aca5c)['value'])return void _0x2c1df2['execute']('paragraph',{});const _0xf6497d=_0x1aca5c['slice'](0x0,-0x4),_0x3140c7=function(_0x4772ec,_0xb87c98,_0x5055f9){let _0xf5120f=Array['from'](_0x4772ec)['filter'](_0x2392c3=>function(_0x6cfb28,_0x219d7b){return _0x219d7b['checkChild'](_0x6cfb28['parent'],'listItem')&&!_0x219d7b['isObject'](_0x6cfb28);}(_0x2392c3,_0x5055f9));_0xf5120f=_0xf5120f['filter'](_0x5f311e=>!_0x5f311e['is']('listItem')||_0x5f311e['getAttribute']('listType')!=_0xb87c98);const _0x3dc56=new Set();for(const _0x5835df of _0xf5120f)_0x5835df['is']('listItem')?_0x3dc56['add'](O(_0x5835df)):_0x3dc56['add'](_0x5835df);return Array['from'](_0x3dc56);}(_0x57441d['getSelectedBlocks'](),_0xf6497d,_0x2c1df2['model']['schema']);_0x2c1df2['model']['change'](()=>{for(const _0xb94014 of _0x3140c7)_0x4fafdf['markBlockFormat'](_0xb94014,{'commandName':_0x1aca5c,'commandParams':[],'formatGroupId':'blockName'},U(_0xb94014));});};}function _0x1e9d23(_0x26b20d){return()=>{const _0x45dfd1=function(_0x7cbf53){const _0x1b7cc3=(_0x7cbf53=Array['from'](_0x7cbf53))['findIndex'](_0x13dad8=>'listItem'!=_0x13dad8['name']);_0x1b7cc3>-0x1&&(_0x7cbf53=_0x7cbf53['slice'](0x0,_0x1b7cc3));return _0x7cbf53;}(_0x2c1df2['model']['document']['selection']['getSelectedBlocks']()),_0x5ea166=_0x2c1df2['model']['createRange'](_0x2c1df2['model']['createPositionAt'](_0x45dfd1[0x0],'before'),_0x2c1df2['model']['createPositionAt'](_0x45dfd1[_0x45dfd1['length']-0x1],'end'));_0x2c1df2['model']['change'](()=>{_0x4fafdf['markBlockFormat'](_0x5ea166,{'commandName':_0x26b20d,'commandParams':[],'formatGroupId':'listIndent'},function(_0x35446){const _0x386a31=new Set();for(const _0x51be0a of _0x35446){let _0x23d45e=_0x51be0a['nextSibling'];for(;_0x23d45e&&_0x23d45e['getAttribute']('listIndent')>_0x51be0a['getAttribute']('listIndent');)_0x386a31['add'](_0x23d45e),_0x23d45e=_0x23d45e['nextSibling'];}return Array['from'](_0x386a31);}(_0x45dfd1));});};}_0x4fafdf['enableCommand']('numberedList',_0x2c6810('numberedList')),_0x4fafdf['enableCommand']('bulletedList',_0x2c6810('bulletedList')),_0x429b82&&_0x4fafdf['enableCommand']('todoList',_0x2c6810('todoList')),_0x4fafdf['enableCommand']('indentList',_0x1e9d23('indentList')),_0x4fafdf['enableCommand']('outdentList',_0x1e9d23('outdentList')),_0x429b82&&_0x4fafdf['enableCommand']('todoListCheck',()=>{const _0x1d7b7b=_0x2c1df2['commands']['get']('todoListCheck'),_0x5a4efc=Array['from'](_0x1d7b7b['_selectedElements']);_0x5a4efc['filter'](_0x53e840=>_0x53e840['getAttribute']('todoListChecked')!=_0x1d7b7b['value']),_0x2c1df2['model']['change'](()=>{for(const _0x5943a0 of _0x5a4efc)_0x4fafdf['markBlockFormat'](_0x5943a0,{'commandName':'todoListCheck','commandParams':[{'forceValue':!_0x1d7b7b['value']}]});});});const {t:t}=_0x2c1df2['locale'];_0x4fafdf['_descriptionFactory']['registerElementLabel']('listItem',_0x423d9e=>t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x423d9e)),_0x4fafdf['_descriptionFactory']['registerDescriptionCallback'](_0x2cb7e8=>{const {data:_0x46923f}=_0x2cb7e8;if(_0x46923f){if('numberedList'==_0x46923f['commandName']||'bulletedList'==_0x46923f['commandName']||'todoList'==_0x46923f['commandName']){switch(_0x46923f['commandName']['replace']('List','')){case'bulleted':return _0x4738f6(t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'}));case'numbered':return _0x4738f6(t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'}));case'todo':return _0x4738f6(t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'}));}}if('indentList'==_0x46923f['commandName'])return{'type':'format','content':t('*Indent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('outdentList'==_0x46923f['commandName'])return{'type':'format','content':t('*Outdent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('todoListCheck'==_0x46923f['commandName']){return _0x46923f['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Check\x20item*')}:{'type':'format','content':t('*Uncheck\x20item*')};}}function _0x4738f6(_0x24362e){return{'type':'format','content':t('*Change\x20to:*\x20%0',_0x24362e)};}});}}function O(_0x2aa030){const _0x327e66=_0x2aa030['getAttribute']('listIndent');if(0x0==_0x327e66)return _0x2aa030;let _0x2b3875=_0x2aa030;for(;_0x2aa030['previousSibling']&&_0x2aa030['previousSibling']['is']('listItem');){const _0x4abfa0=_0x2aa030['previousSibling']['getAttribute']('listIndent');if(_0x4abfa0==_0x327e66)_0x2b3875=_0x2aa030['previousSibling'];else if(_0x4abfa0<_0x327e66)break;_0x2aa030=_0x2aa030['previousSibling'];}return _0x2b3875;}function U(_0x278ea5){const _0x1f0736=[];if(_0x278ea5['is']('listItem')&&_0x278ea5['getAttribute']('listIndent')>0x0){let _0x4a88c2=_0x278ea5['nextSibling'];for(;_0x4a88c2&&'listItem'==_0x4a88c2['name']&&_0x4a88c2['getAttribute']('listIndent')==_0x278ea5['getAttribute']('listIndent');)_0x1f0736['push'](_0x4a88c2),_0x4a88c2=_0x4a88c2['nextSibling'];}return _0x1f0736;}