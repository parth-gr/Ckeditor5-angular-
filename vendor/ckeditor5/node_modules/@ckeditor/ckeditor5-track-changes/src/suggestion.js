/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3991=['clear','isIntersecting','map','getRanges','getMarkers','getMultiRangeId','getMarkerNames','type','from','markers','previous','createdAt','isInContent','start','data','size','push','subType','reduce','getFirstMarker','accept','getContainedElement','addRange','length','isMultiRange','isIntersectingWithRange','removeMarkers','discard','author','head','set','add','change','decorate','getRange','_model','split','get','end','getFirstRange','commentThread','hasComments','_onDiscard','addMarkerName','filter','getItems','onDiscard','next'];(function(_0xf5db02,_0x222ab){const _0x42096e=function(_0x2b5ec8){while(--_0x2b5ec8){_0xf5db02['push'](_0xf5db02['shift']());}};_0x42096e(++_0x222ab);}(_0x3991,0x1ea));const _0x3c71=function(_0xf5db02,_0x222ab){_0xf5db02=_0xf5db02-0x0;let _0x42096e=_0x3991[_0xf5db02];return _0x42096e;};import _0x4c24ae from'@ckeditor/ckeditor5-utils/src/observablemixin';import _0x2c9279 from'@ckeditor/ckeditor5-engine/src/model/element';import _0x477a61 from'@ckeditor/ckeditor5-utils/src/mix';import _0x59e1e1 from'@ckeditor/ckeditor5-utils/src/uid';export default class ot{constructor(_0x3c832b,_0x1b9480){this['id']=_0x1b9480['id'],this[_0x3c71('0x2d')]=_0x1b9480[_0x3c71('0x2d')],this[_0x3c71('0x7')]=_0x1b9480['subType']||null,this[_0x3c71('0x12')]=_0x1b9480['author'],this['data']=null,this[_0x3c71('0x19')]=_0x3c832b,this['k']=_0x1b9480['onAccept'],this[_0x3c71('0x20')]=_0x1b9480[_0x3c71('0x24')],this['p']=new Set(),this[_0x3c71('0x14')](_0x3c71('0x1'),null),this[_0x3c71('0x14')](_0x3c71('0x0'),null),this[_0x3c71('0x14')](_0x3c71('0x25'),null),this[_0x3c71('0x14')](_0x3c71('0x1e'),null),this[_0x3c71('0x17')](_0x3c71('0xa')),this[_0x3c71('0x17')]('discard');}get[_0x3c71('0x13')](){let _0x150d7=this;for(;_0x150d7[_0x3c71('0x0')];)_0x150d7=_0x150d7[_0x3c71('0x0')];return _0x150d7;}get[_0x3c71('0x1f')](){return!!this[_0x3c71('0x1e')]&&this[_0x3c71('0x1e')]['length']>0x0;}get[_0x3c71('0xe')](){if(0x0==this['p'][_0x3c71('0x5')])return!0x1;return 0x6==Array['from'](this['p'])[0x0][_0x3c71('0x1a')](':')[_0x3c71('0xd')];}get[_0x3c71('0x2')](){return null!==this[_0x3c71('0x9')]();}[_0x3c71('0x21')](_0x5a31da){this['p'][_0x3c71('0x15')](_0x5a31da);}[_0x3c71('0x2c')](){return Array[_0x3c71('0x2e')](this['p']);}[_0x3c71('0x2a')](){return this['getMarkerNames']()['map'](_0x2cc632=>this[_0x3c71('0x19')][_0x3c71('0x2f')][_0x3c71('0x1b')](_0x2cc632))[_0x3c71('0x22')](_0x35fc55=>_0x35fc55);}[_0x3c71('0x9')](){return this[_0x3c71('0x2a')]()[0x0]||null;}[_0x3c71('0x10')](){this[_0x3c71('0x19')][_0x3c71('0x16')](_0x12569b=>{for(const _0x22309a of this['getMarkers']())_0x12569b['removeMarker'](_0x22309a);}),this['p'][_0x3c71('0x26')]();}[_0x3c71('0xc')](_0xa98b68){const _0x1cbd62='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this[_0x3c71('0x12')]['id']+':'+ot[_0x3c71('0x2b')]();this['addMarkerName'](_0x1cbd62),this[_0x3c71('0x19')]['change'](_0x135105=>{_0x135105['addMarker'](_0x1cbd62,{'range':_0xa98b68,'usingOperation':!0x0,'affectsData':!0x0});});}[_0x3c71('0xf')](_0x4326cf){for(const _0x4d47cc of this[_0x3c71('0x29')]())if(_0x4d47cc[_0x3c71('0x27')](_0x4326cf))return!0x0;return!0x1;}[_0x3c71('0x29')](){return this[_0x3c71('0x2a')]()[_0x3c71('0x28')](_0x27ef07=>_0x27ef07[_0x3c71('0x18')]());}[_0x3c71('0x23')](){return this[_0x3c71('0x29')]()[_0x3c71('0x8')]((_0x23f52e,_0x701aad)=>[..._0x23f52e,..._0x701aad[_0x3c71('0x23')]()],[]);}[_0x3c71('0x1d')](){return this[_0x3c71('0x9')]()['getRange']();}[_0x3c71('0xb')](){const _0x179ace=this['getRanges']();if(0x1!=_0x179ace[_0x3c71('0xd')])return null;const _0x7fec74=_0x179ace[0x0],_0x36d6d3=_0x7fec74[_0x3c71('0x3')]['nodeAfter'],_0x9b777b=_0x7fec74[_0x3c71('0x1c')]['nodeBefore'];return _0x36d6d3 instanceof _0x2c9279?_0x36d6d3!=_0x9b777b?null:_0x36d6d3:null;}[_0x3c71('0xa')](){this['k'](this['getRanges'](),this[_0x3c71('0x4')]),this[_0x3c71('0x10')]();}[_0x3c71('0x11')](){this[_0x3c71('0x20')](this[_0x3c71('0x29')](),this[_0x3c71('0x4')]),this[_0x3c71('0x10')]();}['getAllAdjacentSuggestions'](){const _0x5dd3ca=[];let _0x3b424a=this[_0x3c71('0x13')];for(;_0x3b424a;)_0x5dd3ca[_0x3c71('0x6')](_0x3b424a),_0x3b424a=_0x3b424a[_0x3c71('0x25')];return _0x5dd3ca;}static[_0x3c71('0x2b')](){return _0x59e1e1()['substr'](0x1,0x5);}}_0x477a61(ot,_0x4c24ae);