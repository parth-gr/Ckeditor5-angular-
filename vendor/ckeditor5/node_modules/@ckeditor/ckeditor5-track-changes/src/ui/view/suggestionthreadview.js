/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import Jt from'./basesuggestionthreadview';import $t from'@ckeditor/ckeditor5-collaboration-core/src/users/view/userview';import Kt from'@ckeditor/ckeditor5-ui/src/button/buttonview';import Lt from'@ckeditor/ckeditor5-core/theme/icons/check.svg';import Qt from'@ckeditor/ckeditor5-core/theme/icons/cancel.svg';import Xt from'@ckeditor/ckeditor5-comments/src/utils/trim-html';export default class xt extends Jt{constructor(_0x304770,_0x4b5d7e,_0x193947,_0x41eb64){super(_0x304770,_0x4b5d7e,_0x193947,_0x41eb64);const {t:t}=_0x304770;this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x35f705=>_0x35f705&&_0x35f705[0x0]?_0x35f705[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x54d5fe,_0x4eec82)=>{let _0x2a16ef='';for(const _0x130923 of _0x54d5fe)_0x2a16ef+='<p>'+Yt(_0x130923['content'])+'</p>';return _0x4eec82?_0x2a16ef:Xt(_0x2a16ef,{'limit':0x8c});}),this['ut']=null,this['acceptButton']=this['gt'](t('Accept\x20suggestion'),Lt,'ck-suggestion--accept','acceptSuggestion'),this['discardButton']=this['gt'](t('Discard\x20suggestion'),Qt,'ck-suggestion--discard','discardSuggestion'),this['userView']=new $t(_0x304770,this['_model']['author']),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user']}}),this['setTemplate'](this['pt']());}['pt'](){const _0x17fe57=this['bindTemplate'];return{'tag':'div','attributes':{'class':['ck-suggestion-wrapper',_0x17fe57['if']('isActive','ck-suggestion-wrapper--active'),_0x17fe57['to']('type',_0x1dab26=>'ck-suggestion-'+_0x1dab26)],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':-0x1},'children':[{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation']},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main']},'children':[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x17fe57['to']('createdAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x17fe57['to']('createdAt',_0x1549da=>this['_config']['formatDateTime'](_0x1549da))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}]}]},this['commentsListView'],this['commentThreadInputView']]};}['render'](){super['render'](),this['ut']=this['element']['querySelector']('.ck-annotation__content-wrapper'),this['ut']['innerHTML']=this['description'],this['on']('change:description',(_0x4a9821,_0x2cbb0e,_0x149272)=>{this['ut']['innerHTML']=_0x149272;});}['gt'](_0x10fcc3,_0x456429,_0x29d5f1,_0x5ee79b){const _0x2865e7=new Kt(this['locale']);return _0x2865e7['set']({'label':_0x10fcc3,'icon':_0x456429,'tooltip':!0x0}),_0x2865e7['extendTemplate']({'attributes':{'class':_0x29d5f1}}),_0x2865e7['on']('execute',()=>{this['fire'](_0x5ee79b,this['_model']['id']);}),_0x2865e7['bind']('isEnabled')['to'](this),_0x2865e7;}}function Yt(_0x2411c3){let _0x482228='';return _0x482228+=_0x2411c3['split']('*')['map']((_0x36d1c3,_0x4d8980)=>_0x4d8980%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+Zt(_0x36d1c3)+'</span>':Zt(_0x36d1c3))['join'](''),_0x482228;}function Zt(_0x1dce66){const _0x5183b1=document['createElement']('span');return _0x5183b1['innerText']=_0x1dce66,_0x5183b1['innerHTML'];}